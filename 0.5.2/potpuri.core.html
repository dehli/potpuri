<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>potpuri.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Potpuri</span> <span class="project-version">0.5.2</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 current"><a href="potpuri.core.html"><div class="inner"><span>potpuri.core</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="potpuri.core.html#var-assoc-first"><div class="inner"><span>assoc-first</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-assoc-if"><div class="inner"><span>assoc-if</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-assoc-in-path-vals"><div class="inner"><span>assoc-in-path-vals</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-build-tree"><div class="inner"><span>build-tree</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-condas-.3E"><div class="inner"><span>condas-&gt;</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-conjv"><div class="inner"><span>conjv</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-consv"><div class="inner"><span>consv</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-deep-merge"><div class="inner"><span>deep-merge</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-dissoc-in"><div class="inner"><span>dissoc-in</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-filter-entries"><div class="inner"><span>filter-entries</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-filter-keys"><div class="inner"><span>filter-keys</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-filter-vals"><div class="inner"><span>filter-vals</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-find-first"><div class="inner"><span>find-first</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-find-index"><div class="inner"><span>find-index</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-fn-.3E"><div class="inner"><span>fn-&gt;</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-fn-.3E.3E"><div class="inner"><span>fn-&gt;&gt;</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-if-all-let"><div class="inner"><span>if-all-let</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-index-by"><div class="inner"><span>index-by</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-map-entries"><div class="inner"><span>map-entries</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-map-keys"><div class="inner"><span>map-keys</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-map-of"><div class="inner"><span>map-of</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-map-vals"><div class="inner"><span>map-vals</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-path-vals"><div class="inner"><span>path-vals</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-remove-entries"><div class="inner"><span>remove-entries</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-remove-keys"><div class="inner"><span>remove-keys</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-remove-vals"><div class="inner"><span>remove-vals</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-update-first"><div class="inner"><span>update-first</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-where-fn"><div class="inner"><span>where-fn</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-wrap-into"><div class="inner"><span>wrap-into</span></div></a></li><li class="depth-1"><a href="potpuri.core.html#var-zip"><div class="inner"><span>zip</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">potpuri.core</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-assoc-first"><h3>assoc-first</h3><h4 class="added">added in 0.2.1</h4><div class="usage"><code>(assoc-first coll where v)</code></div><div class="doc"><div class="markdown"><p>Finds the first element in collection matching <code>where</code> parameter and replaces that with <code>v.</code></p>
<p>Implementation depends on collection type.</p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L217">view source</a></div></div><div class="public anchor" id="var-assoc-if"><h3>assoc-if</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(assoc-if m key val)</code><code>(assoc-if m key val &amp; kvs)</code></div><div class="doc"><div class="markdown"><p>Assoc key-value pairs with non-nil values into map.</p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L128">view source</a></div></div><div class="public anchor" id="var-assoc-in-path-vals"><h3>assoc-in-path-vals</h3><h4 class="added">added in 0.1.0</h4><div class="usage"><code>(assoc-in-path-vals c)</code></div><div class="doc"><div class="markdown"><p>Re-created a map from itâ€™s path-vals extracted with (path-vals).</p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L51">view source</a></div></div><div class="public anchor" id="var-build-tree"><h3>build-tree</h3><h4 class="added">added in 0.5.0</h4><div class="usage"><code>(build-tree {:keys [parent-fn id-fn assoc-children-fn], :as opts} items)</code></div><div class="doc"><div class="markdown"><p>Builds a tree from given items collections.</p>
<p>ID is what is used to match parents and children. Root items are those where parent-fn returns nil.</p>
<p>Options:</p>
<ul>
  <li>:parent-fn (required) Used to create a map from ID =&gt; children</li>
  <li>:id-fn (required) Used to get the ID from an item</li>
  <li>:assoc-children-fn (required) Attach the children to an item</li>
  <li>:item-fn (optional) Called for each item, after children has been attached to the item</li>
  <li>:children-fn (optional) Called for each children collection</li>
</ul>
<p>Example:  (build-tree {:id-fn :id, :parent-fn :parent, :assoc-children-fn #(assoc %1 :children %2)}  [{:id 1} {:id 2 :parent 1} {:id 3 :parent 1}])  =&gt; [{:id 1 :children [{:id 2} {:id 3}]}]</p>
<p>Check test file for more examples.</p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L393">view source</a></div></div><div class="public anchor" id="var-condas-.3E"><h3>condas-&gt;</h3><h4 class="type">macro</h4><h4 class="added">added in 0.3.0</h4><div class="usage"><code>(condas-&gt; expr name &amp; clauses)</code></div><div class="doc"><div class="markdown"><p>A mixture of cond-&gt; and as-&gt; allowing more flexibility in the test and step forms</p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L15">view source</a></div></div><div class="public anchor" id="var-conjv"><h3>conjv</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(conjv coll el)</code></div><div class="doc"><div class="markdown"><p>Append an element to a collection. If collection is <code>nil</code>, creates vector instead of sequence. The appending might happen on different places depending on the type of collection.</p>
<p>Examples:</p>
<pre><code>(conjv nil 5) =&gt; [5]
(conjv [1] 2) =&gt; [1 2]
(update-in {} [:a] conjv 5) =&gt; {:a [5]}
(-&gt; [] (conjv 5)) =&gt; [5]
</code></pre></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L248">view source</a></div></div><div class="public anchor" id="var-consv"><h3>consv</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(consv coll el)</code></div><div class="doc"><div class="markdown"><p>Prepend an element to a collection. Returns a vector.</p>
<p>Examples:</p>
<pre><code>(consv nil 1) =&gt; [1]
(consv [2] 1) =&gt; [1 2]
(update-in {:a 2} [:a] consv 1) =&gt; {:a [1 2]}
(-&gt; [2] (consv 5)) =&gt; [1 2]
</code></pre></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L263">view source</a></div></div><div class="public anchor" id="var-deep-merge"><h3>deep-merge</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(deep-merge strategy &amp; values)</code><code>(deep-merge values)</code></div><div class="doc"><div class="markdown"><p>Recursively merges maps.</p>
<p>If the first parameter is a keyword it tells the strategy to use when merging non-map collections. Options are</p>
<ul>
  <li><code>:replace</code>, the default, the last value is used</li>
  <li><code>:into</code>, if the value in every map is a collection they are concatenated  using into. Thus the type of (first) value is maintained.</li>
</ul>
<p>Examples:</p>
<pre><code>(deep-merge {:a {:c 2}} {:a {:b 1}}) =&gt; {:a {:b 1 :c 2}}
(deep-merge :replace {:a [1]} {:a [2]}) =&gt; {:a [2]}
(deep-merge :into {:a [1]} {:a [2]}) =&gt; {:a [1 2]}
(deep-merge {:a 1} nil) =&gt; nil
</code></pre>
<p>See also: <a href="https://github.com/weavejester/meta-merge">meta-merge</a>.</p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L79">view source</a></div></div><div class="public anchor" id="var-dissoc-in"><h3>dissoc-in</h3><h4 class="added">added in 0.1.0</h4><div class="usage"><code>(dissoc-in m [k &amp; ks :as keys])</code></div><div class="doc"><div class="markdown"><p>Dissociates an entry from a nested associative structure returning a new nested structure. <code>keys</code> is a sequence of keys. Any empty maps that result will not be present in the new structure.</p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L57">view source</a></div></div><div class="public anchor" id="var-filter-entries"><h3>filter-entries</h3><h4 class="added">added in 0.5.1</h4><div class="usage"><code>(filter-entries pred coll)</code></div><div class="doc"><div class="markdown"><p>Filter given associative collection using function on the values.</p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L330">view source</a></div></div><div class="public anchor" id="var-filter-keys"><h3>filter-keys</h3><h4 class="added">added in 0.2.2</h4><div class="usage"><code>(filter-keys pred coll)</code></div><div class="doc"><div class="markdown"><p>Filter given associative collection using function on the keys.</p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L314">view source</a></div></div><div class="public anchor" id="var-filter-vals"><h3>filter-vals</h3><h4 class="added">added in 0.2.2</h4><div class="usage"><code>(filter-vals pred coll)</code></div><div class="doc"><div class="markdown"><p>Filter given associative collection using function on the values.</p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L322">view source</a></div></div><div class="public anchor" id="var-find-first"><h3>find-first</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(find-first coll where)</code></div><div class="doc"><div class="markdown"><p>Find first value from collection which matches the <code>where</code> parameter.</p>
<p>If <code>where</code> parameter is:</p>
<ul>
  <li>a map, a predicate is created which compares every key/value pair of <code>where</code> value to  collection value.</li>
  <li>something which implements IFn, e.g. keywords and sets, is used as is</li>
  <li>other values, compares the item using using <code>clojure.core/=</code></li>
</ul>
<p>Examples:</p>
<pre><code>(find-first [1 2 3] even?) =&gt; 2
(find-first [{:id 1} {:id 2, :foo :bar}] {:id 2}) =&gt; {:id 2, :foo :bar}
(find-first [{:a 1} {:b 2, :foo :bar}] :b) =&gt; {:b 2, :foo :bar}
(find-first [1 2 3] #{3}) =&gt; 3
(find-first [1 2 3] 3) =&gt; 3
(-&gt; [1 2 3] (find-first odd?)) =&gt; 1
</code></pre></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L194">view source</a></div></div><div class="public anchor" id="var-find-index"><h3>find-index</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(find-index coll where)</code></div><div class="doc"><div class="markdown"><p>Find index of vector which matches the <code>where</code> parameter.</p>
<p>If <code>where</code> parameter is:</p>
<ul>
  <li>a map, a predicate is created which compares every key/value pair of <code>where</code> value to  collection value.</li>
  <li>something which implements IFn, e.g. keywords and sets, is used as is</li>
  <li>other values, compares the item using using <code>clojure.core/=</code></li>
</ul>
<p>Examples:</p>
<pre><code>(find-index [1 2 3] even?) =&gt; 1
(find-index [{:id 1} {:id 2}] {:id 2}) =&gt; 1
(find-index [{:a 1} {:b 2}] :b) =&gt; 1
(find-index [1 2 3] #{3}) =&gt; 2
(find-index [1 2 3] 3) =&gt; 2
(-&gt; [1 2 3] (find-index odd?)) =&gt; 0
</code></pre></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L171">view source</a></div></div><div class="public anchor" id="var-fn-.3E"><h3>fn-&gt;</h3><h4 class="type">macro</h4><h4 class="added">added in 0.1.0</h4><div class="usage"><code>(fn-&gt; &amp; body)</code></div><div class="doc"><div class="markdown"><p>Creates a function that threads on input with <code>some-&gt;</code></p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L4">view source</a></div></div><div class="public anchor" id="var-fn-.3E.3E"><h3>fn-&gt;&gt;</h3><h4 class="type">macro</h4><h4 class="added">added in 0.1.0</h4><div class="usage"><code>(fn-&gt;&gt; &amp; body)</code></div><div class="doc"><div class="markdown"><p>Creates a function that threads on input with <code>some-&gt;&gt;</code></p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L9">view source</a></div></div><div class="public anchor" id="var-if-all-let"><h3>if-all-let</h3><h4 class="type">macro</h4><h4 class="added">added in 0.2.3</h4><div class="usage"><code>(if-all-let bindings then)</code><code>(if-all-let bindings then else)</code></div><div class="doc"><div class="markdown"><p><code>bindings =&gt; [binding-form test, binding-form test ...]</code></p>
<p>If all tests are <code>true</code>, evaluates then with binding-forms bound to the values of tests, if not, yields <code>else.</code></p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L25">view source</a></div></div><div class="public anchor" id="var-index-by"><h3>index-by</h3><h4 class="added">added in 0.3.0</h4><div class="usage"><code>(index-by f coll)</code></div><div class="doc"><div class="markdown"><p>Returns a map of the elements of coll keyed by the result of f on each element. The value at each key will the last item for given f result.</p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L356">view source</a></div></div><div class="public anchor" id="var-map-entries"><h3>map-entries</h3><h4 class="added">added in 0.5.1</h4><div class="usage"><code>(map-entries f coll)</code></div><div class="doc"><div class="markdown"><p>Map the entries of given associative collection using function.</p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L305">view source</a></div></div><div class="public anchor" id="var-map-keys"><h3>map-keys</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(map-keys f coll)</code></div><div class="doc"><div class="markdown"><p>Map the keys of given associative collection using function.</p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L289">view source</a></div></div><div class="public anchor" id="var-map-of"><h3>map-of</h3><h4 class="type">macro</h4><h4 class="added">added in 0.1.0</h4><div class="usage"><code>(map-of &amp; syms)</code></div><div class="doc"><div class="markdown"><p>Creates map with symbol names as keywords as keys and symbol values as values.</p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L72">view source</a></div></div><div class="public anchor" id="var-map-vals"><h3>map-vals</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(map-vals f coll)</code></div><div class="doc"><div class="markdown"><p>Map the values of given associative collection using function.</p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L297">view source</a></div></div><div class="public anchor" id="var-path-vals"><h3>path-vals</h3><h4 class="added">added in 0.1.0</h4><div class="usage"><code>(path-vals m)</code></div><div class="doc"><div class="markdown"><p>Returns vector of tuples containing path vector to the value and the value.</p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L37">view source</a></div></div><div class="public anchor" id="var-remove-entries"><h3>remove-entries</h3><h4 class="added">added in 0.5.1</h4><div class="usage"><code>(remove-entries pred coll)</code></div><div class="doc"><div class="markdown"><p>Removes given associative collection using function on the values.</p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L350">view source</a></div></div><div class="public anchor" id="var-remove-keys"><h3>remove-keys</h3><h4 class="added">added in 0.5.0</h4><div class="usage"><code>(remove-keys pred coll)</code></div><div class="doc"><div class="markdown"><p>Removes given associative collection using function on the keys.</p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L338">view source</a></div></div><div class="public anchor" id="var-remove-vals"><h3>remove-vals</h3><h4 class="added">added in 0.5.0</h4><div class="usage"><code>(remove-vals pred coll)</code></div><div class="doc"><div class="markdown"><p>Removes given associative collection using function on the values.</p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L344">view source</a></div></div><div class="public anchor" id="var-update-first"><h3>update-first</h3><h4 class="added">added in 0.2.1</h4><div class="usage"><code>(update-first coll where f &amp; args)</code></div><div class="doc"><div class="markdown"><p>Finds the first element in collection matching the <code>where</code> parameter and updates that using <code>f.</code> <code>f</code> is called with current value and rest of update-first params.</p>
<p>Implementation depends on collection type.</p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L231">view source</a></div></div><div class="public anchor" id="var-where-fn"><h3>where-fn</h3><h4 class="added">added in 0.5.2</h4><div class="usage"><code>(where-fn where)</code></div><div class="doc"><div class="markdown"><p>Returns a predicate that accepts a value and performs a check based on <code>where</code> argument.</p>
<p>If <code>where</code> is a map, returns a predicate that compares all key/value pairs of <code>where</code> to the key/values of the value given to the predicate, and returns truthy value if all pairs are found.</p>
<p>If <code>where</code> is a function (either <code>fn?</code> or <code>ifn?</code>), returns <code>where</code>.</p>
<p>For all other values of <code>where</code> returns a predicate that compares the argument of predicate against <code>where</code> using <code>clojure.core/=</code>.</p></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L142">view source</a></div></div><div class="public anchor" id="var-wrap-into"><h3>wrap-into</h3><h4 class="added">added in 0.2.0</h4><div class="usage"><code>(wrap-into coll v)</code></div><div class="doc"><div class="markdown"><p>Wrap non-collection values into given collection. Collections are only put into the collection (non-wrapped).</p>
<p>Examples:</p>
<pre><code>(wrap-into [] :a) =&gt; [:a]
(wrap-into [] [:a]) =&gt; [:a]
(wrap-into #{} [:a]) =&gt; #{:a}
</code></pre></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L113">view source</a></div></div><div class="public anchor" id="var-zip"><h3>zip</h3><h4 class="added">added in 0.4.0</h4><div class="usage"><code>(zip &amp; colls)</code></div><div class="doc"><div class="markdown"><p>Returns a sequence of vectors where the i-th vector contains the i-th element from each of the argument collections. The returned sequence is as long as the shortest argument.</p>
<p>Example:</p>
<pre><code>(zip [1 2 3] [:a :b :c])  =&gt; ([1 :a] [2 :b] [3 :c])
(zip [1] [1 2] [1 2 3])   =&gt; ([1 1 1])
</code></pre></div></div><div class="src-link"><a href="https://github.com/metosin/potpuri/blob/0.5.2/src/potpuri/core.cljc#L365">view source</a></div></div></div></body></html>